<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
    </style>
</head>

<body in-width="100vw" in-height="100vh">
    <div id="main"></div>

    <script type="module"
    src="https://unpkg.com/@stylin.js/stylina@0.0.3-alpha.10/dist/autorun.js">
    </script>
    <script type="module">
        "use strict";
        import { initAtomic, atom, view, on, useOrbit, DOMAtoms } from "./bundle.js";

        const { buildAtomTree, counter, div, mountAtom } = DOMAtoms;
        

        const count = useOrbit({count: 0});
        console.log(count);


        const Counter = atom({
            state: { count: 0 }, 
            view: view`
                <div 
                 in-width="100%" 
                 in-height="100%"
                 in-display="flex"
                 in-justify-content="center"
                 in-align-items="center"
                 in-flex-direction="column"
                >
                    <div in-margin-bottom="1rem">
                        <h1>${count.count}</h1>
                    </div>
                    <div>
                        <button ${on("click", "increment")} type="button" in-padding="1em">
                            Increment
                        </button>
                        <button ${on("click", "decrement")} type="button" in-padding="1em">
                            Decrement
                        </button>
                    </div>
                </div>
            `,  
            actions: {
                increment(){
                    count.count.mutate((count) => count + 1);
                    console.log(count.count.view())
                }, 
                decrement(){
                    count.count.mutate((count) => count - 1);
                    console.log(count.count.view())
                }
            }
        });
        let other = {
            div: {
                div: [
                    {
                        h1: {
                            $attr: "hello",
                            _: count.count.view(),
                        },
                    },
                    {
                        button: "increment",
                    },
                ],
            },
        };

        
        counter.mount("#main");


        //initAtomic("#main", Counter());
    </script>
</body>
</html>



